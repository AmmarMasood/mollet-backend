// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"

}

datasource db {
  provider = "postgres"
  url      = env("DATABASE_URL")

}



enum PORTFOLIO_TYPES {
  ABOVE_AVERAGE_RISK
  AVERAGE_RISK
  BELOW_AVERAGE_RISK
  LOW_RISK
  HIGH_RISK
}

model User {
  id Int @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  email String @unique
  hash String

  first_name String?
  last_name String?
  phone_number String?

  portfolio Portfolio? @relation(fields:[portfolio_id], references: [id])
  portfolio_id Int?

  risk_score Int? 
  invested_amount Int?

  @@map("users")

}
model Portfolio{
 id Int @id @default(autoincrement())
 createdAt DateTime @default(now())
 updatedAt DateTime @updatedAt
  
  users User[]
  stocks Stock[]
  
  portfolio_type PORTFOLIO_TYPES


    @@map("portfolios")
}

model Stock {
  id Int @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  portfolios Portfolio[]
  company_name String?
  stock_name String @unique

  weight Int

  @@map("stocks")
}

